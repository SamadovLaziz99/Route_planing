(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213cec"],{adf9:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",[s("b-colxx",{staticClass:"disable-text-selection"},[s("list-page-heading",{attrs:{title:e.$t("menu.data-list"),selectAll:e.selectAll,isSelectedAll:e.isSelectedAll,isAnyItemSelected:e.isAnyItemSelected,keymap:e.keymap,displayMode:e.displayMode,changeDisplayMode:e.changeDisplayMode,changeOrderBy:e.changeOrderBy,changePageSize:e.changePageSize,sort:e.sort,searchChange:e.searchChange,from:e.from,to:e.to,total:e.total,perPage:e.perPage}}),e._v(" "),e.isLoad?[s("list-page-listing",{attrs:{displayMode:e.displayMode,items:e.items,selectedItems:e.selectedItems,toggleItem:e.toggleItem,lastPage:e.lastPage,perPage:e.perPage,page:e.page,changePage:e.changePage,handleContextMenu:e.handleContextMenu,onContextMenuAction:e.onContextMenuAction}})]:[s("div",{staticClass:"loading"})]],2)],1)},n=[],i=s("2909"),c=s("5530"),l=(s("d81d"),s("ac1f"),s("5319"),s("4e82"),s("841c"),s("fb6a"),s("caad"),s("2532"),s("4de4"),s("99af"),s("bc3a")),o=s.n(l),h=s("2b47"),d=s("0680"),r=s("21be"),g={components:{"list-page-heading":d["a"],"list-page-listing":r["a"]},data:function(){return{isLoad:!1,apiBase:h["b"]+"/cakes/fordatatable",displayMode:"list",sort:{column:"title",label:"Product Name"},page:1,perPage:4,search:"",from:0,to:0,total:0,lastPage:0,items:[],selectedItems:[]}},methods:{loadItems:function(){var e=this;this.isLoad=!1,o.a.get(this.apiUrl).then((function(e){return e.data})).then((function(t){e.total=t.total,e.from=t.from,e.to=t.to,e.items=t.data.map((function(e){return Object(c["a"])(Object(c["a"])({},e),{},{img:e.img.replace("/img/","/img/products/")})})),e.perPage=t.per_page,e.selectedItems=[],e.lastPage=t.last_page,e.isLoad=!0}))},changeDisplayMode:function(e){this.displayMode=e},changePageSize:function(e){this.page=1,this.perPage=e},changeOrderBy:function(e){this.sort=e},searchChange:function(e){this.search=e,this.page=1},selectAll:function(e){this.selectedItems.length>=this.items.length?e&&(this.selectedItems=[]):this.selectedItems=this.items.map((function(e){return e.id}))},keymap:function(e){switch(e.srcKey){case"select":this.selectAll(!1);break;case"undo":this.selectedItems=[];break}},getIndex:function(e,t,s){for(var a=0;a<t.length;a++)if(t[a][s]===e)return a;return-1},toggleItem:function(e,t){if(e.shiftKey&&this.selectedItems.length>0){var s,a=this.items,n=this.getIndex(t,a,"id"),c=this.getIndex(this.selectedItems[this.selectedItems.length-1],a,"id");a=a.slice(Math.min(n,c),Math.max(n,c)+1),(s=this.selectedItems).push.apply(s,Object(i["a"])(a.map((function(e){return e.id}))))}else this.selectedItems.includes(t)?this.selectedItems=this.selectedItems.filter((function(e){return e!==t})):this.selectedItems.push(t)},handleContextMenu:function(e){this.selectedItems.includes(e.key)||(this.selectedItems=[e.key])},onContextMenuAction:function(e){console.log("context menu item clicked - "+e+": ",this.selectedItems)},changePage:function(e){this.page=e}},computed:{isSelectedAll:function(){return this.selectedItems.length>=this.items.length},isAnyItemSelected:function(){return this.selectedItems.length>0&&this.selectedItems.length<this.items.length},apiUrl:function(){return"".concat(this.apiBase,"?sort=").concat(this.sort.column,"&page=").concat(this.page,"&per_page=").concat(this.perPage,"&search=").concat(this.search)}},watch:{search:function(){this.page=1},apiUrl:function(){this.loadItems()}},mounted:function(){this.loadItems()}},m=g,u=s("2877"),p=Object(u["a"])(m,a,n,!1,null,null,null);t["default"]=p.exports}}]);