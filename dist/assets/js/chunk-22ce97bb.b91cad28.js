(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22ce97bb"],{1798:function(t,e,s){"use strict";s("7e41")},"1d78":function(t,e,s){},"3bc2":function(t,e,s){"use strict";s("1d78")},"3bfb":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.error?s("error-page",{attrs:{error:t.error}}):s("div",[t.loadOne?[s("div",{staticClass:"loading"})]:s("div",[s("b-row",[s("b-colxx",{attrs:{xxs:"12"}},[s("h1",[t._v(t._s(t.$t("vendor"))+" "+t._s(t.id?t.$t("update"):t.$t("create")))]),t._v(" "),s("piaf-breadcrumb")],1)],1),t._v(" "),s("b-form",{staticClass:"av-tooltip tooltip-right-bottom",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[s("b-row",[s("b-colxx",{attrs:{xxs:"12",md:"8"}},[s("b-card",{staticClass:"mb-4",attrs:{title:t.id?t.$t("vendor.update"):t.$t("vendor.create")}},[s("b-row",[s("b-colxx",{attrs:{xxs:"12",md:"12"}},[s("b-form-group",{staticClass:"has-float-label mb-4",attrs:{label:t.$t("users")}},[s("v-select",{attrs:{options:t.users,state:!t.$v.form.user.$error},model:{value:t.$v.form.user.$model,callback:function(e){t.$set(t.$v.form.user,"$model","string"===typeof e?e.trim():e)},expression:"$v.form.user.$model"}}),t._v(" "),s("b-form-invalid-feedback",{style:"display: "+(t.isValidCustom&&!t.$v.form.user.required?"block":"none")},[t._v("\n                        "+t._s(t.$t("please.enter")+t.$t("users"))+"\n                      ")])],1),t._v(" "),s("b-form-group",{staticClass:"has-float-label mb-4",attrs:{label:t.$t("address")}},[s("b-form-input",{attrs:{type:"text",state:!t.$v.form.address.$error},model:{value:t.$v.form.address.$model,callback:function(e){t.$set(t.$v.form.address,"$model","string"===typeof e?e.trim():e)},expression:"$v.form.address.$model"}}),t._v(" "),t.$v.form.address.required?t._e():s("b-form-invalid-feedback",[t._v("\n                        "+t._s(t.$t("please.enter")+t.$t("address"))+"\n                      ")])],1)],1),t._v(" "),s("b-colxx",{staticClass:"has-float-label mb-2",attrs:{xxs:"12",md:"4"}},[s("b-form-group",{attrs:{label:t.$t("from_field")}},[s("timepicker",{attrs:{"auto-scroll":""},model:{value:t.form.from_field,callback:function(e){t.$set(t.form,"from_field",e)},expression:"form.from_field"}})],1)],1),t._v(" "),s("b-colxx",{staticClass:"has-float-label mb-2",attrs:{xxs:"12",md:"4"}},[s("b-form-group",{attrs:{label:t.$t("to")}},[s("timepicker",{attrs:{"auto-scroll":""},model:{value:t.form.to,callback:function(e){t.$set(t.form,"to",e)},expression:"form.to"}})],1)],1),t._v(" "),s("b-colxx",{staticClass:"has-float-label mb-2",attrs:{xxs:"12",md:"4"}},[s("b-form-group",{attrs:{label:t.$t("cola_food")}},[s("b-form-input",{attrs:{type:"number"},model:{value:t.form.cola_food,callback:function(e){t.$set(t.form,"cola_food",e)},expression:"form.cola_food"}})],1)],1),t._v(" "),s("b-colxx",{staticClass:"has-float-label mb-2",attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:t.$t("apelsin_account")}},[s("b-form-input",{attrs:{type:"text"},model:{value:t.form.apelsin_account,callback:function(e){t.$set(t.form,"apelsin_account",e)},expression:"form.apelsin_account"}})],1)],1),t._v(" "),s("b-colxx",{staticClass:"has-float-label mb-2",attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:t.$t("apelsin_token")}},[s("b-form-input",{attrs:{type:"text"},model:{value:t.form.apelsin_token,callback:function(e){t.$set(t.form,"apelsin_token",e)},expression:"form.apelsin_token"}})],1)],1),t._v(" "),s("b-colxx",{staticClass:"mb-2",attrs:{xxs:"12",md:"12"}},[s("div",{staticClass:"d-flex justify-content-between"},[s("div",{staticClass:"d-flex mt-2"},[s("span",[t._v(t._s(t.$t("verified")))]),t._v(" "),s("b-form-group",{staticClass:"ml-2"},[s("switches",{staticClass:"vue-switcher-small",attrs:{theme:"custom",color:"primary-inverse"},model:{value:t.form.verified,callback:function(e){t.$set(t.form,"verified",e)},expression:"form.verified"}})],1)],1),t._v(" "),s("div",{staticClass:"d-flex mt-2"},[s("span",[t._v(t._s(t.$t("status")))]),t._v(" "),s("b-form-group",{staticClass:"ml-2"},[s("switches",{staticClass:"vue-switcher-small",attrs:{theme:"custom",color:"primary-inverse"},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}})],1)],1),t._v(" "),s("div",{staticClass:"d-flex mt-2"},[s("span",[t._v(t._s(t.$t("cola_sponsor")))]),t._v(" "),s("b-form-group",{staticClass:"ml-2"},[s("switches",{staticClass:"vue-switcher-small",attrs:{theme:"custom",color:"primary-inverse"},model:{value:t.form.cola_sponsor,callback:function(e){t.$set(t.form,"cola_sponsor",e)},expression:"form.cola_sponsor"}})],1)],1)])]),t._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"12"}},[s("b-form-group",{staticClass:"has-float-label mb-4",attrs:{label:t.$t("about_me")}},[s("b-textarea",{attrs:{rows:4,"max-rows":4},model:{value:t.form.about_me,callback:function(e){t.$set(t.form,"about_me",e)},expression:"form.about_me"}})],1)],1)],1)],1)],1),t._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"4"}},[s("b-card",{staticClass:"mb-4",attrs:{title:t.$t("location")}},[s("yandex-map",{staticClass:"map-item",attrs:{coords:t.coords,zoom:12,"map-type":"map",controls:["zoomControl"]},on:{click:t.clickMap}},[s("ymap-marker",{attrs:{"marker-id":"123",coords:t.coords,"hint-content":t.$t("vendor.point")}})],1)],1),t._v(" "),t.$route.params.id?s("dropzone",{ref:"dropzone",attrs:{media:{id:t.$route.params.id,type:"image"}}}):t._e()],1),t._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"12"}},[s("b-card",{staticClass:"mb-4 d-flex align-items-end"},[s("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(t._s(t.$t("cancel"))+"\n                ")]),t._v(" "),s("b-button",{staticClass:"ml-1",attrs:{variant:"outline-secondary"}},[t._v(t._s(t.$t("clear"))+"\n                ")]),t._v(" "),s("b-button",{class:{"btn-multiple-state btn-shadow":!0,"show-spinner":t.pending},attrs:{type:"submit",variant:"primary"}},[s("span",{staticClass:"spinner d-inline-block"},[s("span",{staticClass:"bounce1"}),t._v(" "),s("span",{staticClass:"bounce2"}),t._v(" "),s("span",{staticClass:"bounce3"})]),t._v(" "),s("span",{staticClass:"label"},[t._v(t._s(t.id?t.$t("update"):t.$t("save")))])])],1)],1)],1)],1)],1)],2)],1)},o=[],r=s("5530"),l=(s("ac1f"),s("1276"),s("159b"),s("d81d"),s("5c47")),i=s("b5ae"),c=s("1dce"),n=s("2f62"),d=s("dcdb"),m="vendors",u=Object(d["a"])(m),b=u.getById,f=u.put,p=u.post,v={components:{switches:l["a"]},mixins:[c["validationMixin"]],validations:{form:{user:{required:i["required"]},address:{required:i["required"]}}},watch:{times:function(t){console.log(t)}},data:function(){return{id:this.$route.params.id,isValidCustom:!1,times:null,coords:[41.312947,69.280204],form:{address:"",about_me:"",user:null,active:!0,verified:!0,from_field:"",to:"",apelsin_account:"",apelsin_token:"",cola_sponsor:!1,cola_food:0}}},mounted:function(){var t=this;this.id&&this.$store.dispatch(b,this.id).then((function(e){console.log(e);var s=t.form;e.latitude&&e.longitude&&(t.coords=[parseFloat(e.latitude),parseFloat(e.longitude)]),s.address=e.address,s.about_me=e.about_me,s.active=e.active,s.verified=e.verified;var a=e.from_field.split(":"),o=e.to.split(":");a&&o&&a.length&&o.length&&(s.from_field=a.length?{HH:a[0].length<2?"0"+a[0]:a[0],mm:a[1]}:{HH:"00",mm:"00"},s.to=o.length?{HH:o[0].length<2?"0"+o[0]:o[0],mm:o[1]}:{HH:"00",mm:"00"}),s.apelsin_account=e.apelsin_account,s.apelsin_token=e.apelsin_token,s.cola_sponsor=e.cola_sponsor,s.cola_food=e.cola_food;var r=e.user,l=r.first_name,i=r.last_name;s.user={label:l+" "+i,value:e.user.id},setTimeout((function(){e.media&&e.media.length&&e.media.forEach((function(e){e.small_size_url||t.$refs.dropzone.setDefaultImage({size:e.size,name:e.path,type:e.mime_type,id:e.id},e.url)}))}),100)})),this.getUsers()},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(n["c"])(["dataUsers"])),Object(n["c"])(Object(d["b"])(m))),{},{users:function(){return this.dataUsers.map((function(t){var e=t.first_name,s=t.last_name;return{label:e+" "+s,value:t.id}}))}}),methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["getUsers"])),{},{clickMap:function(t){this.coords=t.get("coords")},submit:function(){var t=this;if(console.log(this.$v),this.isValidCustom=!0,this.$v.$touch(),!this.$v.$invalid){var e,s=Object(r["a"])({},this.form);delete s.id,delete s.user,s.latitude=this.coords[0],s.longitude=this.coords[1],s.user_id=null===(e=this.form.user)||void 0===e?void 0:e.value,s.from_field=this.form.from_field?this.form.from_field["HH"]+":"+this.form.from_field["mm"]:"",s.to=this.form.to?this.form.to["HH"]+":"+this.form.to["mm"]:"",this.$store.dispatch(this.id?f:p,{id:this.id,data:s}).then((function(e){t.$router.go(-1)}))}}})},_=v,h=(s("3bc2"),s("2877")),x=Object(h["a"])(_,a,o,!1,null,null,null);e["default"]=x.exports},"5c47":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{class:t.classObject},[t.shouldShowLabel?s("span",{staticClass:"vue-switcher__label"},[t.label?s("span",{domProps:{textContent:t._s(t.label)}}):t._e(),t._v(" "),!t.label&&t.value?s("span",{domProps:{textContent:t._s(t.textEnabled)}}):t._e(),t._v(" "),t.label||t.value?t._e():s("span",{domProps:{textContent:t._s(t.textDisabled)}})]):t._e(),t._v(" "),s("input",{attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.value},on:{change:t.trigger}}),t._v(" "),s("div")])},o=[],r=s("ade3"),l={name:"switches",props:{typeBold:{default:!1},value:{default:!1},disabled:{default:!1},label:{default:""},textEnabled:{default:""},textDisabled:{default:""},color:{default:"default"},theme:{default:"default"},emitOnMount:{default:!0}},mounted:function(){this.emitOnMount&&this.$emit("input",this.value)},methods:{trigger:function(t){this.$emit("input",t.target.checked)}},computed:{classObject:function(){var t,e=this.color,s=this.value,a=this.theme,o=this.typeBold,l=this.disabled;return t={"vue-switcher":!0},Object(r["a"])(t,"vue-switcher--unchecked",!s),Object(r["a"])(t,"vue-switcher--disabled",l),Object(r["a"])(t,"vue-switcher--bold",o),Object(r["a"])(t,"vue-switcher--bold--unchecked",o&&!s),Object(r["a"])(t,"vue-switcher-theme--".concat(a),e),Object(r["a"])(t,"vue-switcher-color--".concat(e),e),t},shouldShowLabel:function(){return""!==this.label||""!==this.textEnabled||""!==this.textDisabled}}},i=l,c=(s("1798"),s("2877")),n=Object(c["a"])(i,a,o,!1,null,null,null);e["a"]=n.exports},"7e41":function(t,e,s){},dcdb:function(t,e,s){"use strict";s.d(e,"a",(function(){return o})),s.d(e,"b",(function(){return r}));var a=s("ed08"),o=function(t){return{get:Object(a["b"])("get ".concat(t)),getById:Object(a["b"])("get by id ".concat(t)),post:Object(a["b"])("post ".concat(t)),put:Object(a["b"])("put ".concat(t)),remove:Object(a["b"])("delete ".concat(t))}},r=function(t){return{load:Object(a["b"])("load ".concat(t)),loadOne:Object(a["b"])("one load ".concat(t)),data:Object(a["b"])("data ".concat(t)),error:Object(a["b"])("error ".concat(t)),pending:Object(a["b"])("pending ".concat(t)),deleting:Object(a["b"])("deleting ".concat(t)),pagination:Object(a["b"])("pagination ".concat(t))}}}}]);