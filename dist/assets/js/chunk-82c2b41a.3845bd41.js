(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82c2b41a"],{"04cc":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.total/t.perPage>1?i("b-row",[i("b-colxx",{attrs:{xxs:"12"}},[i("b-pagination-nav",{attrs:{"number-of-pages":t.total/t.perPage,"link-gen":t.linkGen,value:t.page,"per-page":t.perPage,align:"right"},on:{change:t.changePagination},scopedSlots:t._u([{key:"next-text",fn:function(){return[i("i",{staticClass:"simple-icon-arrow-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[i("i",{staticClass:"simple-icon-arrow-left"})]},proxy:!0},{key:"first-text",fn:function(){return[i("i",{staticClass:"simple-icon-control-start"})]},proxy:!0},{key:"last-text",fn:function(){return[i("i",{staticClass:"simple-icon-control-end"})]},proxy:!0}],null,!1,2104427419)})],1)],1):t._e()},a=[],o=(i("a9e3"),{name:"Pagination",props:{page:{type:Number,default:function(){return 1}},perPage:{type:Number,default:function(){return 10}},total:{type:Number,default:function(){return 0}}},data:function(){return{}},methods:{changePagination:function(t){this.$emit("changePagination",t)},linkGen:function(t){return"#page-"+t}}}),s=o,r=i("2877"),l=Object(r["a"])(s,n,a,!1,null,"228e9564",null);e["a"]=l.exports},1313:function(t,e,i){},1400:function(t,e,i){"use strict";i("1313")},"437f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.error?i("error-page",{attrs:{error:t.error}}):i("b-row",[i("b-colxx",{staticClass:"disable-text-selection"},[t.$store.getters.deleteModal.isShow?i("remove-modal",{on:{removing:t.removeItem}}):t._e(),t._v(" "),i("list-page-heading",{attrs:{title:t.$t("menu.foods_list"),displayMode:t.displayMode,from:t.from,to:t.to,total:t.pagination.total,perPage:15},on:{filters:t.filterChanging}},[i("b-button",{class:{"top-right-button":!0},attrs:{slot:"action",variant:"primary",size:"lg"},on:{click:function(e){return t.$router.push({name:"food_create"})}},slot:"action"},[t._v(t._s(t.$t("pages.add-new"))+"\n          ")])],1),t._v(" "),i("b-card",{attrs:{title:t.$t("menu.foods_list")}},[i("b-table",{attrs:{hover:"",items:t.items,fields:t.fields,busy:t.load,responsive:""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[i("div",{staticClass:"text-center text-primary my-2"},[i("b-spinner",{staticClass:"align-middle"}),t._v(" "),i("strong",[t._v(t._s(t.$t("loading"))+"...")])],1)]},proxy:!0},{key:"cell(action)",fn:function(e){return[i("div",{staticStyle:{display:"flex"}},[i("div",{staticClass:"glyph-icon simple-icon-eye mr-2",staticStyle:{"font-size":"16px","font-weight":"700",color:"#6B7280",cursor:"pointer"},on:{click:function(i){return t.$router.push({name:"food_detail",params:{id:e.item.id}})}}}),t._v(" "),i("div",{staticClass:"glyph-icon simple-icon-pencil mr-2",staticStyle:{"font-size":"16px","font-weight":"700",color:"#6B7280",cursor:"pointer"},on:{click:function(i){return t.$router.push({name:"food_update",params:{id:e.item.id}})}}}),t._v(" "),i("div",{staticClass:"glyph-icon simple-icon-trash mr-2",staticStyle:{"font-size":"16px","font-weight":"700",color:"#6B7280",cursor:"pointer"},on:{click:function(i){return t.$store.commit("DELETE_MODAL",{isShow:!0,data:e.item})}}})])]}},{key:"cell(image)",fn:function(t){return[i("img",{staticClass:"food_img",attrs:{src:t.item.img,alt:t.item.name}})]}},{key:"cell(category)",fn:function(e){return[i("div",[t._v(t._s(e.item.category?e.item.category.name[t.$lang]:""))])]}},{key:"cell(unit)",fn:function(e){return[i("div",[t._v(t._s(e.item.unit?e.item.unit.name[t.$lang]:""))])]}},{key:"cell(vendor)",fn:function(e){return[i("div",[t._v(t._s(e.item.vendor?e.item.vendor.user.first_name+" "+e.item.vendor.user.last_name:""))])]}}],null,!1,4185696834)}),t._v(" "),t.pagination.total>15?i("Pagination",{attrs:{page:t.pagination.page,"per-page":t.pagination.limit,total:t.pagination.total},on:{changePagination:t.changePage}}):t._e()],1)],1)],1)],1)},a=[],o=i("5530"),s=(i("d81d"),i("fb6a"),i("b0c0"),i("4e82"),i("caad"),i("2532"),i("7717")),r=i("8302"),l=i("c31b"),c=i("2f62"),u=i("dcdb"),d=i("04cc"),p=i("ed08"),m=i("c1df"),g=i.n(m),f="food",h=Object(u["a"])(f),v=h.get,b=(h.getById,h.put),y=h.post,_=h.remove,$={components:{"list-page-heading":s["a"],"list-page-listing":r["a"],"foods-card":l["a"],Pagination:d["a"]},data:function(){return{foods:[],categories:[],displayMode:"thumb",sort:{},sortOptions:[{column:"name",label:"Name"},{column:"position",label:"Position"}],page:1,from:0,to:0,filters:null,fields:[{key:"image",label:this.$t("image")},{key:"name",label:this.$t("name")},{key:"category",label:this.$t("category")},{key:"unit",label:this.$t("unit")},{key:"vendor",label:this.$t("vendor")},{key:"price",label:this.$t("price")},{key:"sale_price",label:this.$t("sale_price")},{key:"preparation_time",label:this.$t("preparation_time"),tdClass:"firstColumn"},{key:"action",label:this.$t("action")}]}},watch:{foods:function(t){console.log(t)},"form.active":function(t){console.log(t)}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(Object(u["b"])(f))),{},{items:function(){return this.data.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{img:t.image?Object(p["g"])(t.image,"120x90"):void 0})}))}}),mounted:function(){var t,e=this.$route.hash,i=this.$route.query;this.filters=i,e&&(t=this.$route.hash.slice(6),this.page=parseInt(t)),this.getData()},methods:{moment:g.a,filterChanging:function(t){this.filters=t,this.page=1,this.$router.push({name:this.$route.name,query:this.filters}),this.getData()},submit:function(){var t=this;if(this.$v.$touch(),!this.$v.$invalid){var e,i=Object(o["a"])({},this.form);delete i.id,i.category=null===(e=this.form.category)||void 0===e?void 0:e.value,i.position=parseInt(this.form.position),this.$store.dispatch(this.form.id?b:y,{id:this.form.id,data:i}).then((function(e){t.$refs.crudModal.hideModal(),t.getData()}))}},viewItem:function(t){console.log(t),this.$router.push({name:"food_detail",params:{id:t}})},removeItem:function(t){var e=this;this.$store.dispatch(_,t).then((function(t){e.$store.commit("DELETE_MODAL",{isShow:!1,data:{}}),e.getData()}))},clear:function(){this.$v.$reset(),this.form={id:null,name:{uz:"",ru:"",oz:""},position:null,active:!0}},closed:function(t){this.clear(),console.log(t)},changeOrderBy:function(t){this.sort=t},handleContextMenu:function(t){this.selectedItems.includes(t.key)||(this.selectedItems=[t.key])},onContextMenuAction:function(t){console.log("context menu item clicked - "+t+": ",this.selectedItems)},changePage:function(t){this.page=t,this.getData()},getData:function(){var t=this;this.$store.dispatch(v,Object(o["a"])({page:this.page},this.filters)).then((function(e){t.to=15*t.pagination.page>t.pagination.total?t.pagination.total:15*t.pagination.page,t.from=15*(t.pagination.page-1)}))}}},x=$,k=(i("1400"),i("2877")),C=Object(k["a"])(x,n,a,!1,null,null,null);e["default"]=C.exports},c31b:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex flex-row mb-0",staticStyle:{width:"100% !important"}},[i("div",{staticClass:"d-block position-relative"},[i("b-badge",{staticClass:"position-absolute badge-top-right",attrs:{variant:t.order.statusColor,pill:""}},[t._v(t._s(t.order.status))])],1),t._v(" "),i("div",{staticClass:"pl-3 pt-2 pr-2 pb-2"},[i("div",[i("p",{staticClass:"list-item-heading m-0",staticStyle:{"margin-top":"-5px !important"}},[t._v(t._s(t.order.title||t.order.name))]),t._v(" "),i("p",{staticClass:"text-muted mb-1 text-small"},[t._v("Vendor: "+t._s(t.order.vendor.user.first_name+" "+t.order.vendor.user.last_name))]),t._v(" "),i("p",{staticClass:"text-muted mb-1 text-small"},[t._v("Category: "+t._s(t.order.category.name[t.$lang]))])])])])},a=[],o=i("ed08"),s={props:["order","detailPath"],methods:{imageProxy:o["g"]}},r=s,l=i("2877"),c=Object(l["a"])(r,n,a,!1,null,null,null);e["a"]=c.exports}}]);